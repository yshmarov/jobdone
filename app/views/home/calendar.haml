.row
  .col-lg
    = render 'home/calendar'
    %p
  .col-lg-3
    .card.card-header.bg-default
      = search_form_for @q, url: calendar_path do |f|
        Client
        = f.select :client_full_name_cont, Client.all.map{|c| [c.full_name, c.last_name]}, {include_blank: Client.all.length > 1}, class: 'selectize'
        .row
        Employee
        = f.select :member_full_name_cont, Member.all.map{|c| [c.full_name, c.last_name]}, {include_blank: Member.all.length > 1}, class: 'selectize'
        .row
        Start date after
        .input-daterange
          = f.text_field :starts_at_gteq, "data-provide" => 'datepicker', class: "form-control", placeholder: "Date >= to", :autocomplete => :off
        Starts date before
        .input-daterange
          = f.text_field :starts_at_lteq, "data-provide" => 'datepicker', class: "form-control", placeholder: "Date <= to", :autocomplete => :off
        Status
        = f.select :status_eq, Job.statuses.to_a.map { |w| [w[0].humanize, w[1]] }, {:include_blank => true}, :class => "form-control"
        Location
        = f.select :location_name_cont, Location.all.map{|c| [c.name, c.name]}, {include_blank: Location.all.length > 1}, class: 'selectize'
        /= f.submit
        = f.submit :'Search', class: "btn btn-success btn-block"
        = link_to "Clear Search", calendar_path, class: "btn btn-secondary btn-block", title: 'Refresh', 'data-toggle' => 'tooltip', 'data-placement' => 'top'
    
    %p
    .badge.badge-success
      confirmed
    .badge.badge-danger
      not_attended
    .badge.badge-secondary
      cancelled
    .badge.badge-primary
      planned
    .row
